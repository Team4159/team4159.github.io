<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>team4159.github.io</title>
        <description>FRC Team 4159 CardinalBotics' project documentation, references, and blog on FRC software, controls, and electronics</description>
        <link>http://localhost:4000/</link>
        <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
        <pubDate>Tue, 05 Feb 2019 14:49:46 -0800</pubDate>
        <lastBuildDate>Tue, 05 Feb 2019 14:49:46 -0800</lastBuildDate>
        <generator>Jekyll v3.7.3</generator>
        
        <item>
            <title>2019 Build Season Week 4</title>
            <description>&lt;h3 id=&quot;electrical&quot;&gt;Electrical&lt;/h3&gt;

&lt;p&gt;Our competition electronics board is in driving condition!&lt;/p&gt;

&lt;p&gt;We mounted and wired our RoboRio, VRM, PCM,  8 Talon SRX’s, and 4 Victor SPX’s. The main breaker, radio, and RSL are still hanging around.&lt;/p&gt;

&lt;p&gt;We used &lt;a href=&quot;https://www.wago.com/221/us/&quot;&gt;Wago Lever Nuts&lt;/a&gt; for the first time to connect the CAN bus. One trick we found is to only open one lever at a time and insert only one wire at a time instead of trying to insert both at once. There is also a helpful measurement marking on the side of the lever nut that indicates the length to strip.&lt;/p&gt;

&lt;p&gt;Powering on the robot for the first time, we were horrified by the red and orange flashes on the motor controllers… that was no good. After electrical inspection, we found that the terminating resistor on the PDP was on. Using a handy plier we switched that off. We are terminating the CAN bus on the PCM side using a 120-ohm resistor.&lt;/p&gt;

&lt;p&gt;Power cycling…  still flashing errors. We then looked into the software side. Using Phoenix Tuner we quickly identified that two of the Talons were assigned to an ID of 16. After assigning 15 to one and 16 to the other, the Talons blinked orange and all was good.&lt;/p&gt;

&lt;video controls=&quot;controls&quot; width=&quot;40%&quot; height=&quot;40%&quot; name=&quot;First Drive&quot; src=&quot;https://files.slack.com/files-pri/T0GL3JJPM-FFV86K1EW/download/image_from_ios.mov&quot;&gt;&lt;/video&gt;

&lt;h3 id=&quot;vision&quot;&gt;Vision&lt;/h3&gt;

&lt;p&gt;After the last few weeks of hard work, we successfully created a Python script that recognizes and draws bounding boxes around the pairs of tape!&lt;/p&gt;

&lt;p&gt;Different from previous years, this season, we made a major decision to use infrared LED rings as the main light source for the detection of the retroreflective tape. With an IR filter to block visible light, we are able to see only the reflected IR light, thus reducing optical interference available on the field and diminishing the effects of different competition lighting on our vision recognition software.&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/boundingbox-and-lines.png&quot; alt=&quot;&quot; style=&quot;max-width: 600px&quot; /&gt;&lt;figcaption&gt;Drawing lines fit to contours and bounding boxes.&lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;By using &lt;a href=&quot;https://github.com/WPIRoboticsProjects/GRIP&quot;&gt;GRIP&lt;/a&gt;, a computer vision engine, and the well known OpenCV library, we filtered the IR images gathered from the camera, created contours from those images. and drew bounding rectangles around the tapes to recognize the tape.&lt;/p&gt;

&lt;p&gt;Grouping the tapes was a challenge. We tried multiple ways but eventually settled on a method that will check the intersections of the best fit lines for each pair of tapes. If the intersection is above the center of the two tapes, we group them together as a target, otherwise, the two tapes are discarded. Though this method is not fail-proof, it seems to be working well under our team’s testing condition. However, we would love to have a chance to test it on the real practice field being built at Gateway.&lt;/p&gt;

&lt;p&gt;Now, as the “eyes” of the robot had been created, the next challenge is to see how will we relay this message to the “brain” (RoboRio), and make the “body” respond to what it sees. We are excited to see what will happen in the following weeks!&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/align-strategy-whiteboard.JPG&quot; alt=&quot;&quot; style=&quot;max-width: 600px&quot; /&gt;&lt;figcaption&gt;One of the many robot alignment strategies we have been discussing with mentors.&lt;/figcaption&gt;&lt;/figure&gt;

</description>
            <pubDate>Tue, 05 Feb 2019 00:00:00 -0800</pubDate>
            <link>http://localhost:4000/week-4-2019.html</link>
            <guid isPermaLink="true">http://localhost:4000/week-4-2019.html</guid>
            
            <category>blog</category>
            
            
        </item>
        
        <item>
            <title>2019 Build Season Week 3</title>
            <description>&lt;h3 id=&quot;robot-software&quot;&gt;Robot Software&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;We received a more final design consensus from the design team.&lt;/li&gt;
  &lt;li&gt;Almost all subsystem and command classes have been created to allow for driver control. This includes: Drivetrain, Elevator, Feeder, Grabber, CargoExtender, and Hatch.&lt;/li&gt;
  &lt;li&gt;This upcoming week we hope to test our code on an assembled drivetrain.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;image-recognition&quot;&gt;Image Recognition&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;We have made significant progress in testing IR light instead of green visible light reflecting off the retroreflective tape.&lt;/li&gt;
  &lt;li&gt;We are using a camera &lt;a href=&quot;https://www.amazon.com/NEEWER-58MM-Infrared-Filter-Camera/dp/B003U65A7E/&quot;&gt;IR filter&lt;/a&gt; lens in front of a &lt;a href=&quot;https://www.amazon.com/Sony-PlayStation-Camera-Bulk-Packaging-Pc/dp/B0072I2240&quot;&gt;PlayStation Eye&lt;/a&gt; camera, which we chose for its cost and higher IR sensitivity than most cameras&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/ir-leds-through-filter.jpg&quot; alt=&quot;&quot; style=&quot;max-width: 300px&quot; /&gt;&lt;figcaption&gt;IR LED ring shown through IR filter&lt;/figcaption&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Using generated code from GRIP and employing vision techniques, we were able to detect whether two pieces of tape were to be grouped together or not, drawing a bounding box around them.&lt;/li&gt;
  &lt;li&gt;Our next steps are to test edge cases where more than 2 tape are visible and when the camera is at an angle from the tape&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/pre-processing.png&quot; alt=&quot;&quot; style=&quot;max-width: 600px&quot; /&gt;&lt;figcaption&gt;Pre-processing&lt;/figcaption&gt;&lt;/figure&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/post-processing.png&quot; alt=&quot;&quot; style=&quot;max-width: 600px&quot; /&gt;&lt;figcaption&gt;Post-processing&lt;/figcaption&gt;&lt;/figure&gt;

</description>
            <pubDate>Sat, 26 Jan 2019 00:00:00 -0800</pubDate>
            <link>http://localhost:4000/week-3-2019.html</link>
            <guid isPermaLink="true">http://localhost:4000/week-3-2019.html</guid>
            
            <category>blog</category>
            
            
        </item>
        
        <item>
            <title>2019 Build Season Week 2</title>
            <description>&lt;h3 id=&quot;computer-vision&quot;&gt;Computer Vision&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;We met up with Ron, a new mentor this year, to discuss vision techniques and try out different cameras and lighting.&lt;/li&gt;
  &lt;li&gt;We used the &lt;a href=&quot;https://www.microsoft.com/accessories/en-us/products/webcams/lifecam-hd-3000/t3h-00011&quot;&gt;Microsoft Lifecam HD-3000&lt;/a&gt;, Canon DSLR, MacBook Pro Facetime HD Camera, and the iPhone XS Max camera.&lt;/li&gt;
  &lt;li&gt;We used red LED rings, green LED rings, and the iPhone flash.&lt;/li&gt;
  &lt;li&gt;Using the Ring security camera, IR did not work as well, but we will do further testing.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/flash-tape.jpg&quot; alt=&quot;&quot; style=&quot;max-width: 400px&quot; /&gt;&lt;figcaption&gt;Shot using the iPhone XS Max with “Live Photo” and flash. The reflective tape is on a gray background (a laptop), similar to the color of the rocket on the game field.&lt;/figcaption&gt;&lt;/figure&gt;

&lt;figure&gt;&lt;img class=&quot;docimage&quot; src=&quot;images/blog/green-tape-far.JPG&quot; alt=&quot;&quot; style=&quot;max-width: 400px&quot; /&gt;&lt;figcaption&gt;Shot using the iPhone XS Max with a green LED ring around the dual camera. As you can see, from across the classroom, reflective tape still shines bright green, a stark contrast from the background.&lt;/figcaption&gt;&lt;/figure&gt;

&lt;h3 id=&quot;electrical&quot;&gt;Electrical&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;We flashed new firmware on the RoboRio, Talon SRX’s, Victor SPX’s, and PDP using the new Phoenix Tuner software.&lt;/li&gt;
  &lt;li&gt;PDP, Talon SRX’s, Victor SPX’s, VRM, PCM’s, and 6 Solenoid Manifold have all been mounted on the practice robot electronics board.&lt;/li&gt;
  &lt;li&gt;We have yet to mount the RoboRio because of the lack of 4-40 screws. We are also planning on ordering more 8-32.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;organization&quot;&gt;Organization&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Switching to Agile software development has worked well this past week. Tasks were being moved to the ‘In Progress’ and ‘Quality Assurance’ columns.&lt;/li&gt;
  &lt;li&gt;More students are involved and held accountable for their work.&lt;/li&gt;
  &lt;li&gt;We will see in the coming weeks if this organization method holds.&lt;/li&gt;
&lt;/ul&gt;

</description>
            <pubDate>Sat, 19 Jan 2019 00:00:00 -0800</pubDate>
            <link>http://localhost:4000/week-2-2019.html</link>
            <guid isPermaLink="true">http://localhost:4000/week-2-2019.html</guid>
            
            <category>blog</category>
            
            
        </item>
        
        <item>
            <title>2019 Build Season Week 1</title>
            <description>&lt;p&gt;Our first programming meeting took place on Wednesday (1/9/2019). We went over the build season schedule and goals for programming members. Students who were in the Beginning Programming group are expected to be comfortable writing robot code and wire basic FRC robots by the end of the semester. Students coming from the Advanced Programming group are expected to shadow veteran members and work on group programming projects to learn and possibly contribute to our robot codebase. They are also expected to understand this year’s codebase and electrical layout to be useful and gain experience in the pits in competition.&lt;/p&gt;

&lt;p&gt;On Friday (1/11/2019) we had an unexpected programming meeting with a smaller group of people. Aaron, a new software mentor this year, led a mini-lecture &lt;a href=&quot;https://www.atlassian.com/agile/project-management/user-stories&quot;&gt;Agile User Stories&lt;/a&gt;. We decided to implement this using Github Projects on our new &lt;a href=&quot;https://github.com/Team4159/FRC-2019/projects/&quot;&gt;FRC-2019&lt;/a&gt; repository. In our setup, each “project” is a storyboard and within a project we have a kanban board with columns titled “To Do”, “In Progress”, “Waiting/Blocked”, “Quality Assurance”, and “Done”. We can put tasks in each of the storyboards and assign people to be accountable for them. We hope this will increase organization, transparency, and get more members involved in our software process.&lt;/p&gt;

&lt;p&gt;Onto the hardware side, we received the new &lt;a href=&quot;http://connecttech.com/product/orbitty-carrier-for-nvidia-jetson-tx2-tx1/&quot;&gt;Orbitty carrier board&lt;/a&gt; to use with our Jetson TX1. This will reduce space on our electronics board as well as replace our faulty development board that came with the Jetson. We are planning on setting it up in the following days.&lt;/p&gt;

&lt;p&gt;Our current plan for computer vision are to use IR cameras and IR LED rings. An advantage to this method is that we do not rely on visible light, a factor that may differ in playing fields. We contacted &lt;a href=&quot;https://www.e-consystems.com/&quot;&gt;e-con Systems&lt;/a&gt; for an educational sample or discount and are currently waiting for a response.&lt;/p&gt;

&lt;p&gt;We have been working with the design team to CAD our electronics board on the bellypan. We are prioritizing shorter wire runs to reduce energy lost. With careful planning, our battery and PDP have been placed as it will serve as the backbone of the entire electrical system. We plan on mounting the breaker somewhere on the elevator, which will be designed later. For the first time, we will max out our PDP outputs with 16 motor controllers. Although we may not be using 16 motors, the extras will be kept as spares. We are looking into using &lt;a href=&quot;https://www.digikey.com/en/product-highlight/k/keystone/anti-vibration-grommets&quot;&gt;anti-vibration rubber grommets&lt;/a&gt; in order to reduce shock in our electrical components. This is out of caution because we plan to be dropping half a foot every match. We hope to finalize our electronics CAD over the next few days.&lt;/p&gt;

</description>
            <pubDate>Fri, 11 Jan 2019 00:00:00 -0800</pubDate>
            <link>http://localhost:4000/week-1-2019.html</link>
            <guid isPermaLink="true">http://localhost:4000/week-1-2019.html</guid>
            
            <category>blog</category>
            
            
        </item>
        
        <item>
            <title>First post!</title>
            <description>&lt;p&gt;Hello World!&lt;/p&gt;

&lt;p&gt;This is the first blog post.&lt;/p&gt;

&lt;p&gt;Love,&lt;br /&gt;
Your 2018 programming team&lt;/p&gt;

</description>
            <pubDate>Wed, 20 Jun 2018 00:00:00 -0700</pubDate>
            <link>http://localhost:4000/first-post.html</link>
            <guid isPermaLink="true">http://localhost:4000/first-post.html</guid>
            
            <category>blog</category>
            
            
        </item>
        
    </channel>
</rss>
